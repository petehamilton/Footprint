<!DOCTYPE html>
<html>
  <head>
    <title>Footprint</title>

    <script src="/javascripts/jquery-1.7.2.min.js" type="text/javascript"></script>
    <script src="/javascripts/bootstrap.min.js" type="text/javascript"></script>

    <script src="/earth/application.js" type="text/javascript"></script>
    <link href="/earth/application.css" rel="stylesheet" >


    <link rel="stylesheet" href="/stylesheets/bootstrap.min.css">
    <script src="https://www.google.com/jsapi" type="text/javascript"></script>
    <script src="https://maps.googleapis.com/maps/api/js?sensor=false" type="text/javascript"></script>
    <script src="/javascripts/gmaps.js" type="text/javascript"></script>
    
    <script type="text/javascript">
      google.load("earth", "1");

      window.ge = null;

      function init() {
        google.earth.createInstance("map3d", initCallback, failureCallback);
      }

      function initCallback(object) {
        console.log("GE LOADED");
        window.ge = object;
        window.ge.getWindow().setVisibility(true);
      }

      function failureCallback(object) {
      }
    </script>
  
  </head>
  <body  onload="init()" style="padding-top: 50px;">

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">

            <a class="brand" href="#">
              <img src="/images/logo.png" width="100px" />
            </a>

            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/checkins">Checkins</a></li>
              <li><a href="/map">Map</a></li>
              <li><a href="/earth">Earth</a></li>
              <li><a href="/love">You & I</a></li>
            </ul>
        </div>
      </div>
    </div>


  <div id="main_container" class="container">
    <%if @error then %>
      <div class="alert alert-error"><%=@error%></div>
    <% end %>

    <div id="footprint_map_container">
      <div id='map3d' style='border: 1px solid silver; height: 500px;'></div>
    </div>

    <div id="timeline-embed"></div>
    <script type="text/javascript">
        var timeline_config = {
            width:              "100%",
            height:             "600",
            source:             '/earth/checkin_timeline.json',
            // start_at_end:       false,                          //OPTIONAL START AT LATEST DATE
            // start_at_slide:     '4',                            //OPTIONAL START AT SPECIFIC SLIDE
            // start_zoom_adjust:  '3',                            //OPTIONAL TWEAK THE DEFAULT ZOOM LEVEL
            // hash_bookmark:      true,                           //OPTIONAL LOCATION BAR HASHES
            css:                '/stylesheets/timeline.css',     //OPTIONAL PATH TO CSS
            js:                 '/javascripts/footprint_timeline.js'    //OPTIONAL PATH TO JS
        }
    </script>
    <script type="text/javascript" src="/javascripts/timeline-embed.js"></script>

  </div>
  </body>
</html>